{"ast":null,"code":"import _objectSpread from\"/Users/mymac/repos/chinese-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mymac/repos/chinese-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useDispatch,useSelector}from'react-redux';import FileBase from'react-file-base64';import{deleteResource,updateResource}from'../../actions/resources';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditForm=function EditForm(_ref){var resource=_ref.resource;var dispatch=useDispatch();var history=useHistory();var _useState=useState({title:resource.title,link:resource.link,image:resource.image,description:resource.description,type:resource.type,categories:resource.categories,mediaType:resource.mediaType,paid:resource.paid}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(formData);dispatch(updateResource(resource._id,formData));history.push(\"/resources/\".concat(resource._id));};var handleDelete=function handleDelete(e){var wantToDelete=window.confirm(\"Are you sure you want to delete this resource?\");if(wantToDelete){e.preventDefault();dispatch(deleteResource(resource._id));history.push(\"/resources\");}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\" Title \"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{title:e.target.value}));},value:formData.title,placeholder:\"Title\",name:\"title\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"link\",children:\" Link \"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{link:e.target.value}));},value:formData.link,placeholder:\"Link\",name:\"link\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",children:\" Image \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(FileBase,{type:\"file\",multiple:false,onDone:function onDone(_ref2){var base64=_ref2.base64;return setFormData(_objectSpread(_objectSpread({},formData),{},{image:base64}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\" Description \"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value}));},value:formData.description,placeholder:\"Description\",name:\"description\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"type-select\",children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{type:e.target.value}));},value:formData.type,className:\"form-control\",id:\"type-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"text\",children:\"Text\"}),/*#__PURE__*/_jsx(\"option\",{value:\"audio\",children:\"Audio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"video\",children:\"Video\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"categories\",children:\"Categories \"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{categories:e.target.value}));},value:formData.categories,className:\"form-control\",id:\"categories\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"news\",children:\"News\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sports\",children:\"Sports\"}),/*#__PURE__*/_jsx(\"option\",{value:\"entertainment\",children:\"Entertainment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fiction\",children:\"Fiction\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"media-type\",children:\"Media Type\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{mediaType:e.target.value}));},value:formData.mediaType,className:\"form-control\",id:\"media-type\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"lesson\",children:\"Lesson\"}),/*#__PURE__*/_jsx(\"option\",{value:\"media\",children:\"Media\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"paid\",children:\"Paid\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{paid:e.target.value}));},className:\"form-control\",id:\"paid\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Paid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"Free\"})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primary\",value:\"Upate\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"float-right btn btn-danger\",children:\"Delete\"})]})});};export default EditForm;","map":{"version":3,"sources":["/Users/mymac/repos/chinese-app/client/src/components/resources/EditForm.js"],"names":["React","useState","useDispatch","useSelector","FileBase","deleteResource","updateResource","useHistory","EditForm","resource","dispatch","history","title","link","image","description","type","categories","mediaType","paid","formData","setFormData","handleSubmit","e","preventDefault","console","log","_id","push","handleDelete","wantToDelete","window","confirm","target","value","base64"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport FileBase from 'react-file-base64';\nimport { deleteResource, updateResource } from '../../actions/resources';\nimport { useHistory } from 'react-router-dom';\n\n\nconst EditForm = ({ resource }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [formData, setFormData] = useState({\n    title: resource.title,\n    link: resource.link,\n    image: resource.image,\n    description: resource.description,\n    type: resource.type,\n    categories: resource.categories,\n    mediaType: resource.mediaType,\n    paid: resource.paid\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(formData);\n    dispatch(updateResource(resource._id, formData));\n    history.push(`/resources/${resource._id}`)\n  }\n\n  const handleDelete = (e) => {\n    const wantToDelete = window.confirm(\"Are you sure you want to delete this resource?\");\n    if (wantToDelete) {\n      e.preventDefault();\n      dispatch(deleteResource(resource._id));\n      history.push(`/resources`);\n    }\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"title\"> Title </label>\n          <input onChange={(e) => { setFormData({...formData, title: e.target.value})}} value={formData.title} placeholder=\"Title\" name=\"title\" className=\"form-control\" />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"link\"> Link </label>\n          <input onChange={(e) => { setFormData({...formData, link: e.target.value})}} value={formData.link} placeholder=\"Link\" name=\"link\" className=\"form-control\" />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"image\"> Image </label><br />\n          <FileBase type=\"file\" multiple={false} onDone={({ base64 }) => setFormData({ ...formData, image: base64 })} />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"title\"> Description </label>\n          <textarea onChange={(e) => { setFormData({...formData, description: e.target.value})}} value={formData.description} placeholder=\"Description\" name=\"description\" className=\"form-control\" ></textarea>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"type-select\">Type</label>\n          <select onChange={(e) => { setFormData({...formData, type: e.target.value})}} value={formData.type} className=\"form-control\" id=\"type-select\">\n            <option value=\"text\">Text</option>\n            <option value=\"audio\">Audio</option>\n            <option value=\"video\">Video</option>\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"categories\">Categories </label>\n          <select onChange={(e) => { setFormData({...formData, categories: e.target.value})}} value={formData.categories} className=\"form-control\" id=\"categories\">\n            <option value=\"news\">News</option>\n            <option value=\"sports\">Sports</option>\n            <option value=\"entertainment\">Entertainment</option>\n            <option value=\"fiction\">Fiction</option>\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"media-type\">Media Type</label>\n          <select onChange={(e) => { setFormData({...formData, mediaType: e.target.value})}} value={formData.mediaType} className=\"form-control\" id=\"media-type\">\n            <option value=\"lesson\">Lesson</option>\n            <option value=\"media\">Media</option>\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"paid\">Paid</label>\n          <select onChange={(e) => { setFormData({...formData, paid: e.target.value})}} className=\"form-control\" id=\"paid\">\n            <option value=\"true\">Paid</option>\n            <option value=\"false\">Free</option>\n          </select>\n        </div>\n        <input type=\"submit\" className=\"btn btn-primary\" value=\"Upate\" />\n        <button onClick={handleDelete} className=\"float-right btn btn-danger\">Delete</button>\n      </form>\n    </div>\n  )\n}\n\nexport default EditForm;\n"]},"metadata":{},"sourceType":"module"}