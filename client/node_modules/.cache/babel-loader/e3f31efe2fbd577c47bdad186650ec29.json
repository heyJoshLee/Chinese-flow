{"ast":null,"code":"import React,{useEffect}from'react';import WordsContainer from'./WordsContainer';import BackLink from'../shared/BackLink';import{useDispatch,useSelector}from'react-redux';import{getResource}from'../../actions/resources';import{Pencil}from'react-bootstrap-icons';import{Link}from'react-router-dom';import{getWordsForLoggedInUser}from'../../actions/users';import ProgressBar from'./ProgressBar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Resource=function Resource(props){var dispatch=useDispatch();var resourceId=props.match.params.id;var resource=useSelector(function(state){return state.resource;});var knownWords=useSelector(function(state){return state.knownWords;});useEffect(function(){dispatch(getResource(resourceId));dispatch(getWordsForLoggedInUser());},[]);if(!resource){dispatch(getResource(resourceId));dispatch(getWordsForLoggedInUser());return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(BackLink,{url:\"/resources\",text:\"< Back to resources\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resource\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(ProgressBar,{resource:resource,knownWords:knownWords}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",children:[resource.title,/*#__PURE__*/_jsx(\"span\",{className:\"ml-4 hover\",children:/*#__PURE__*/_jsx(Link,{to:\"/resources/\".concat(resource._id,\"/edit\"),children:/*#__PURE__*/_jsx(Pencil,{size:32})})})]}),/*#__PURE__*/_jsx(\"img\",{src:resource.image,className:\"resource__main-image\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center resource__description\",children:resource.description}),/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:resource.link,children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 btn-block btn btn-primary\",children:\"Go to Resource\"})}),/*#__PURE__*/_jsx(WordsContainer,{words:resource.words})]})})})]});};export default Resource;","map":{"version":3,"sources":["/Users/mymac/repos/chinese-app/client/src/components/resources/Resource.js"],"names":["React","useEffect","WordsContainer","BackLink","useDispatch","useSelector","getResource","Pencil","Link","getWordsForLoggedInUser","ProgressBar","Resource","props","dispatch","resourceId","match","params","id","resource","state","knownWords","title","_id","image","description","link","words"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAwC,aAAxC,CACA,OAASC,WAAT,KAA4B,yBAA5B,CACA,OAASC,MAAT,KAAuB,uBAAvB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,uBAAT,KAAwC,qBAAxC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CAC1B,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,UAAU,CAAGF,KAAK,CAACG,KAAN,CAAYC,MAAZ,CAAmBC,EAAtC,CACA,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,CAAC,SAAAc,KAAK,QAAIA,CAAAA,KAAK,CAACD,QAAV,EAAN,CAA5B,CACA,GAAME,CAAAA,UAAU,CAAGf,WAAW,CAAC,SAAAc,KAAK,QAAIA,CAAAA,KAAK,CAACC,UAAV,EAAN,CAA9B,CACAnB,SAAS,CAAC,UAAM,CACZY,QAAQ,CAACP,WAAW,CAACQ,UAAD,CAAZ,CAAR,CACAD,QAAQ,CAACJ,uBAAuB,EAAxB,CAAR,CACD,CAHM,CAGJ,EAHI,CAAT,CAMA,GAAI,CAACS,QAAL,CAAe,CACbL,QAAQ,CAACP,WAAW,CAACQ,UAAD,CAAZ,CAAR,CACAD,QAAQ,CAACJ,uBAAuB,EAAxB,CAAR,CACA,mBAAO,mCAAP,CACD,CAED,mBACE,oCACE,KAAC,QAAD,EAAU,GAAG,CAAC,YAAd,CAA2B,IAAI,CAAC,qBAAhC,EADF,cAEE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,MAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,WAAD,EAAa,QAAQ,CAAES,QAAvB,CAAiC,UAAU,CAAEE,UAA7C,EADF,cAEE,YAAI,SAAS,CAAC,aAAd,WACGF,QAAQ,CAACG,KADZ,cAEE,aAAM,SAAS,CAAC,YAAhB,uBACE,KAAC,IAAD,EAAM,EAAE,sBAAgBH,QAAQ,CAACI,GAAzB,SAAR,uBACE,KAAC,MAAD,EAAQ,IAAI,CAAE,EAAd,EADF,EADF,EAFF,GAFF,cAUE,YAAK,GAAG,CAAEJ,QAAQ,CAACK,KAAnB,CAA0B,SAAS,CAAC,sBAApC,EAVF,cAWE,UAAG,SAAS,CAAC,mCAAb,UAAkDL,QAAQ,CAACM,WAA3D,EAXF,cAYE,UAAG,MAAM,CAAC,QAAV,CAAmB,IAAI,CAAEN,QAAQ,CAACO,IAAlC,uBACE,YAAK,SAAS,CAAC,gCAAf,4BADF,EAZF,cAeE,KAAC,cAAD,EAAgB,KAAK,CAAEP,QAAQ,CAACQ,KAAhC,EAfF,GADF,EADF,EAFF,GADF,CA0BD,CA3CD,CA6CA,cAAef,CAAAA,QAAf","sourcesContent":["import React, {useEffect} from 'react';\nimport WordsContainer from './WordsContainer';\nimport BackLink from '../shared/BackLink';\nimport { useDispatch, useSelector} from 'react-redux';\nimport { getResource } from '../../actions/resources';\nimport { Pencil } from 'react-bootstrap-icons';\nimport { Link } from 'react-router-dom';\nimport { getWordsForLoggedInUser } from '../../actions/users';\nimport ProgressBar from './ProgressBar';\n\nconst Resource = (props) => {\n  const dispatch = useDispatch();\n  const resourceId = props.match.params.id;\n  const resource = useSelector(state => state.resource);\n  const knownWords = useSelector(state => state.knownWords)\n  useEffect(() => {\n      dispatch(getResource(resourceId));\n      dispatch(getWordsForLoggedInUser());\n    }, [])\n\n\n  if (!resource) {\n    dispatch(getResource(resourceId));\n    dispatch(getWordsForLoggedInUser());\n    return <div>Loading...</div>\n  }\n\n  return (\n    <div>\n      <BackLink url=\"/resources\" text=\"< Back to resources\" />\n      <div className=\"resource\">\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <ProgressBar resource={resource} knownWords={knownWords} />\n            <h1 className=\"text-center\">\n              {resource.title}\n              <span className=\"ml-4 hover\">\n                <Link to={`/resources/${resource._id}/edit`}>\n                  <Pencil size={32} />\n                </Link>\n              </span>\n            </h1> \n            <img src={resource.image} className=\"resource__main-image\" />\n            <p className=\"text-center resource__description\">{resource.description}</p>\n            <a target=\"_blank\" href={resource.link}>\n              <div className=\"mb-4 btn-block btn btn-primary\">Go to Resource</div>\n            </a>\n            <WordsContainer words={resource.words} />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Resource;\n"]},"metadata":{},"sourceType":"module"}