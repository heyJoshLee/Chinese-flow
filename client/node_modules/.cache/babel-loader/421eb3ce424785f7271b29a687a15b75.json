{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mymac/repos/chinese-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mymac/repos/chinese-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import*as api from'../api';import{errorFlashMessage,addFlashMessage}from'./helpers.js';import{GET_RESOURCES,GET_RESOURCE,CREATE_RESOURCE,DELETE_RESOURCE,UPDATE_RESOURCE,ADD_WORD_TO_RESOURCE,REMOVE_WORD_FROM_RESOURCE}from'../types/index';export var createResource=function createResource(resourceParams){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$api$createReso,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.createResource(resourceParams);case 3:_yield$api$createReso=_context.sent;data=_yield$api$createReso.data;dispatch({type:CREATE_RESOURCE,payload:data});addFlashMessage(\"Resource successfully created.\",dispatch);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);errorFlashMessage(_context.t0,dispatch,\"danger\");case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getResource=function getResource(resourceId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var _yield$api$getResourc,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.getResource(resourceId);case 3:_yield$api$getResourc=_context2.sent;data=_yield$api$getResourc.data;dispatch({type:GET_RESOURCE,payload:data});_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);errorFlashMessage(_context2.t0,dispatch,\"danger\");case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getResources=function getResources(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var _yield$api$getResourc2,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return api.getResources();case 3:_yield$api$getResourc2=_context3.sent;data=_yield$api$getResourc2.data;console.log(data);dispatch({type:GET_RESOURCES,payload:data});_context3.next=13;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);errorFlashMessage(_context3.t0,dispatch,\"danger\");case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var updateResource=function updateResource(resourceId,resourceParams){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var _yield$api$updateReso,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return api.updateResource(resourceId,resourceParams);case 3:_yield$api$updateReso=_context4.sent;data=_yield$api$updateReso.data;console.log(\"DATA\");console.log(data);dispatch({type:UPDATE_RESOURCE,payload:data});_context4.next=14;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);errorFlashMessage(_context4.t0,dispatch,\"danger\");case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[0,10]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var deleteResource=function deleteResource(resourceId){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var _yield$api$deleteReso,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return api.deleteResource(resourceId);case 2:_yield$api$deleteReso=_context5.sent;data=_yield$api$deleteReso.data;dispatch({type:DELETE_RESOURCE,payload:data});case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var getWordsForResource=function getWordsForResource(resourceId){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var _yield$api$getWordsFo,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return api.getWordsForResource(resourceId);case 2:_yield$api$getWordsFo=_context6.sent;data=_yield$api$getWordsFo.data;return _context6.abrupt(\"return\",data);case 5:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x6){return _ref6.apply(this,arguments);};}();};export var addWordToResource=function addWordToResource(resourceId,wordId){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var _yield$api$addWordToR,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return api.addWordToResource(resourceId,wordId);case 2:_yield$api$addWordToR=_context7.sent;data=_yield$api$addWordToR.data;dispatch({type:ADD_WORD_TO_RESOURCE,payload:data});return _context7.abrupt(\"return\",data);case 6:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x7){return _ref7.apply(this,arguments);};}();};export var removeWordFromResource=function removeWordFromResource(resourceId,wordId){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var _yield$api$removeWord,data;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return api.removeWordFromResource(resourceId,wordId);case 2:_yield$api$removeWord=_context8.sent;data=_yield$api$removeWord.data;dispatch({type:REMOVE_WORD_FROM_RESOURCE,payload:data});case 5:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x8){return _ref8.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/mymac/repos/chinese-app/client/src/actions/resources.js"],"names":["api","errorFlashMessage","addFlashMessage","GET_RESOURCES","GET_RESOURCE","CREATE_RESOURCE","DELETE_RESOURCE","UPDATE_RESOURCE","ADD_WORD_TO_RESOURCE","REMOVE_WORD_FROM_RESOURCE","createResource","resourceParams","dispatch","data","type","payload","console","log","getResource","resourceId","getResources","updateResource","deleteResource","getWordsForResource","addWordToResource","wordId","removeWordFromResource"],"mappings":"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","sourcesContent":["import * as api from '../api';\nimport { errorFlashMessage, addFlashMessage } from './helpers.js'; \nimport { GET_RESOURCES, \n  GET_RESOURCE, \n  CREATE_RESOURCE, \n  DELETE_RESOURCE, \n  UPDATE_RESOURCE, \n  ADD_WORD_TO_RESOURCE,\n  REMOVE_WORD_FROM_RESOURCE } from '../types/index';\n\nexport const createResource = (resourceParams) => async (dispatch) => {\n  try {\n    const { data } = await api.createResource(resourceParams);\n    dispatch({\n      type: CREATE_RESOURCE,\n      payload: data\n    });\n    addFlashMessage(\"Resource successfully created.\", dispatch);\n  } catch (error) {\n    console.log(error);\n    errorFlashMessage(error, dispatch, \"danger\")\n  }\n}\n\nexport const getResource = (resourceId) => async (dispatch) => {\n  try {\n    const { data } = await api.getResource(resourceId);\n    dispatch({\n      type: GET_RESOURCE,\n      payload: data\n    })\n  } catch (error) {\n    console.log(error);\n    errorFlashMessage(error, dispatch, \"danger\")\n  }\n}\n\nexport const getResources = () => async (dispatch) => {\n  try {\n    const { data } = await api.getResources();\n    console.log(data);\n    dispatch({\n      type: GET_RESOURCES,\n      payload: data\n    })\n  } catch (error) {\n    console.log(error);\n    errorFlashMessage(error, dispatch, \"danger\")\n  }\n}\n\nexport const updateResource = (resourceId, resourceParams) => async (dispatch) => {\n  try {\n    const { data } = await api.updateResource(resourceId, resourceParams); \n    console.log(\"DATA\")\n    console.log(data)\n    dispatch({\n      type: UPDATE_RESOURCE,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    errorFlashMessage(error, dispatch, \"danger\")\n  }\n}\n\nexport const deleteResource = (resourceId) => async (dispatch) => {\n  const { data } = await api.deleteResource(resourceId);\n  dispatch({\n    type: DELETE_RESOURCE,\n    payload: data\n  });\n}\n\nexport const getWordsForResource = (resourceId) => async (dispatch) => {\n  const { data } = await api.getWordsForResource(resourceId);\n  return data;\n}\n\nexport const addWordToResource = (resourceId, wordId) => async (dispatch) => {\n  const { data } = await api.addWordToResource(resourceId, wordId);\n  dispatch({\n    type: ADD_WORD_TO_RESOURCE,\n    payload: data\n  });\n  return data;\n}\n\nexport const removeWordFromResource = (resourceId, wordId) => async (dispatch) => {\n  const { data } = await api.removeWordFromResource(resourceId, wordId);\n  dispatch({\n    type: REMOVE_WORD_FROM_RESOURCE,\n    payload: data\n  });\n}"]},"metadata":{},"sourceType":"module"}