{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mymac/repos/chinese-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mymac/repos/chinese-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import*as api from'../api';import{LOG_IN,LOG_OUT}from'../types/index';import{errorFlashMessage}from'./helpers.js';export var logIn=function logIn(logInData){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$api$logIn,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.logIn(logInData);case 3:_yield$api$logIn=_context.sent;data=_yield$api$logIn.data;localStorage.setItem('auth',JSON.stringify(data));dispatch({type:LOG_IN,payload:data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);errorFlashMessage(_context.t0,dispatch,\"danger\");case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var logOut=function logOut(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:localStorage.removeItem('auth');dispatch({type:LOG_OUT});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/mymac/repos/chinese-app/client/src/actions/auth.js"],"names":["api","LOG_IN","LOG_OUT","errorFlashMessage","logIn","logInData","dispatch","data","localStorage","setItem","JSON","stringify","type","payload","logOut","removeItem"],"mappings":"qTAAA,MAAO,GAAKA,CAAAA,GAAZ,KAAqB,QAArB,CACA,OAASC,MAAT,CAAiBC,OAAjB,KAAgC,gBAAhC,CACA,OAASC,iBAAT,KAAkC,cAAlC,CAEA,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,SAAD,iGAAe,iBAAOC,QAAP,kLAETN,CAAAA,GAAG,CAACI,KAAJ,CAAUC,SAAV,CAFS,uCAExBE,IAFwB,kBAExBA,IAFwB,CAGhCC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAA7B,EACAD,QAAQ,CAAC,CACPM,IAAI,CAAEX,MADC,CAEPY,OAAO,CAAEN,IAFF,CAAD,CAAR,CAJgC,+EAShCJ,iBAAiB,aAAQG,QAAR,CAAkB,QAAlB,CAAjB,CATgC,oEAAf,gEAAd,CAaP,MAAO,IAAMQ,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,mGAAM,kBAAOR,QAAP,sHAC1BE,YAAY,CAACO,UAAb,CAAwB,MAAxB,EACAT,QAAQ,CAAC,CACPM,IAAI,CAAEV,OADC,CAAD,CAAR,CAF0B,wDAAN,kEAAf","sourcesContent":["import * as api from '../api';\nimport { LOG_IN, LOG_OUT } from '../types/index';\nimport { errorFlashMessage } from './helpers.js'; \n\nexport const logIn = (logInData) => async (dispatch) => {\n  try {\n    const { data } = await api.logIn(logInData);\n    localStorage.setItem('auth', JSON.stringify(data))\n    dispatch({\n      type: LOG_IN,\n      payload: data\n    });\n  } catch (error) {\n    errorFlashMessage(error, dispatch, \"danger\")\n  }\n}\n\nexport const logOut = () => async (dispatch) => {\n  localStorage.removeItem('auth');\n  dispatch({\n    type: LOG_OUT\n  });\n}"]},"metadata":{},"sourceType":"module"}